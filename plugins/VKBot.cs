 /* СКАЧАНО С https://discord.gg/k3hXsVua7Q */ using Newtonsoft.Json; using Newtonsoft.Json.Converters; using Newtonsoft.Json.Linq; using Oxide.Core; using Oxide.Core.Configuration; using Oxide.Core.Plugins; using Oxide.Game.Rust.Cui; using System; using System.Collections.Generic; using System.Globalization; using System.Linq; using UnityEngine; using System.Collections; namespace Oxide.Plugins { [Info("VKBot", "anfunny", "2.0")] class VKBot : RustPlugin { [PluginReference] Plugin ImageLibrary, MenuSystem; static string GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV = "v=5.92"; private bool CMKYDJSYOCLKDPPUJUPFEJCOIXVHVMOATNKFXUVUC = false; private bool SVQVKDHQYNSPZTKVPGNLDBOLRQEKWPYUCDQGYMMS = false; private bool ENBHDNQUCEPHRXQHFEUZXUJOYMVDEXCTVLZONDNCNPULJNLGZ = false; private System.Random TISSBJEMJQRNQECWLFXCUBQRLIAXFKBPDFEUACJPKATXLAZPJ = new System.Random(); JsonSerializerSettings BFIXERRBHTJGHYOCKLAIVJWIRTHTFKIKOSJWGFAMCZUQF; private Dictionary<BasePlayer, DateTime> SVIJQOOBRSJAGLKYVXKZRPOSVEKOFVOFDOAMLWUUW = new Dictionary<BasePlayer, DateTime>(); private ConfigData ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ; private class ConfigData { [JsonProperty(PropertyName = "Настройки плагина")] public VKBotSettings VKSett { get; set; } [JsonProperty(PropertyName = "Ключи VK API, ID группы")] public VKAPITokens VKAPIT { get; set; } [JsonProperty(PropertyName = "Настройки оповещений администраторов")] public AdminNotify AdmNotify { get; set; } [JsonProperty(PropertyName = "Настройки оповещений в беседу")] public ChatNotifySettings ChNotify { get; set; } [JsonProperty(PropertyName = "Оповещения при вайпе")] public WipeSettings WipeStg { get; set; } [JsonProperty(PropertyName = "Награда за вступление в группу")] public GroupGifts GrGifts { get; set; } [JsonProperty(PropertyName = "Настройки рейд оповещений")] public RaidSettings RaidSett { get; set; } public class VKBotSettings { [JsonProperty(PropertyName = "Название сервера")] public string ServerName { get; set; } = "MYSERVER"; [JsonProperty(PropertyName = "Ссылка на группу ВК")] public string VKGroupUrl { get; set; } = "vk.com/ваша_группа"; [JsonProperty(PropertyName = "Права для рейд оповещений")] public string PermRaidAlert { get; set; } = "vkbot.raidalert"; } public class VKAPITokens { [JsonProperty(PropertyName = "VK Token группы (доступ: сообщения, стена, фотографии, документы)")] public string VKToken { get; set; } = ""; [JsonProperty(PropertyName = "VKID группы")] public string GroupID { get; set; } = ""; } public class AdminNotify { [JsonProperty(PropertyName = "VkID администраторов (через запятую)")] public string NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ { get; set; } = ""; [JsonProperty(PropertyName = "Отправлять сообщение администратору о инициализации сервера?")] public bool InitCheckMsg { get; set; } = false; [JsonProperty(PropertyName = "Отправлять сообщение администратору о нерабочих плагинах?")] public bool PluginsCheckMsg { get; set; } = false; [JsonProperty(PropertyName = "Отправлять сообщение администратору о проверке обновлений Oxide?")] public bool OxideCheckMsg { get; set; } = false; [JsonProperty(PropertyName = "Отправлять сообщение администратору о бане игрока?")] public bool UserBannedMsg { get; set; } = false; [JsonProperty(PropertyName = "Добавлять комментарий в обсуждения о бане игрока?")] public bool UserBannedTopic { get; set; } = false; [JsonProperty(PropertyName = "ID обсуждения о бане")] public string BannedTopicID { get; set; } = ""; [JsonProperty(PropertyName = "Текст комментария в обсуждения")] public string BannedTopicMsg { get; set; } = "Игрок {0} ({1}) был забанен на сервере. Причина: {2}. Ссылка на профиль стим: steamcommunity.com/profiles/{1}/"; } public class ChatNotifySettings { [JsonProperty(PropertyName = "Включить отправку оповещений в беседу?")] public bool ChatNotify { get; set; } = false; [JsonProperty(PropertyName = "ID беседы (нужно добавить свою группу в эту беседу)")] public string ChatID { get; set; } = "1"; [JsonProperty(PropertyName = "Список оповещений отправляемых в беседу (доступно: wipe, init, bans, plugins)")] public string ChatSettings { get; set; } = "wipe, init, bans, plugins"; } public class WipeSettings { [JsonProperty(PropertyName = "Отправлять сообщение администратору о вайпе?")] public bool WPostMsgAdmin { get; set; } = false; [JsonProperty(PropertyName = "Отправлять игрокам сообщение о вайпе автоматически? (если false - отправление только командой wipealerts)")] public bool WMsgPlayers { get; set; } = true; [JsonProperty(PropertyName = "Отправлять всем сообщение о вайпе? (вне зависимости о включено ли оно у игрока)")] public bool WCMDIgnore { get; set; } = false; [JsonProperty(PropertyName = "Текст сообщения игрокам о вайпе")] public string WMsgText { get; set; } = "Сервер {0} вайпнут! Залетай скорее!\nconnect {1}:{2}"; [JsonProperty(PropertyName = "Отправлять пост в группу после вайпа?")] public bool WPostB { get; set; } = false; [JsonProperty(PropertyName = "Текст поста о вайпе")] public string WPostMsg { get; set; } = ""; [JsonProperty(PropertyName = "Добавить изображение к посту о вайпе?")] public bool WPostAttB { get; set; } = false; [JsonProperty(PropertyName = "Ссылка на изображение к посту о вайпе вида 'photo-1_265827614' (изображение должно быть в альбоме группы)")] public string WPostAtt { get; set; } = ""; [JsonProperty(PropertyName = "Менять название группы после вайпа?")] public bool GrNameChange { get; set; } = false; [JsonProperty(PropertyName = "Новое название группы (переменная {wipedate} отображает дату последнего вайпа)")] public string GrName { get; set; } = "MYSERVER | WIPE {wipedate}"; } public class GroupGifts { [JsonProperty(PropertyName = "Выдавать подарок игроку за вступление в группу ВК?")] public bool VKGroupGifts { get; set; } = true; [JsonProperty(PropertyName = "Оповещения в общий чат о получении награды")] public bool GiftsBool { get; set; } = true; [JsonProperty(PropertyName = "Включить оповещения для игроков не получивших награду за вступление в группу?")] public bool VKGGNotify { get; set; } = false; [JsonProperty(PropertyName = "Интервал оповещений для игроков не получивших награду за вступление в группу (в минутах)")] public int VKGGTimer { get; set; } = 30; [JsonProperty(PropertyName = "Выдавать награду каждый вайп?")] public bool GiftsWipe { get; set; } = false; [JsonProperty("Список наград за вступление в группу")] public List<GroupGiftsList> Gifts { get; set; } = new List<GroupGiftsList>(); internal class GroupGiftsList { [JsonProperty("Название")] public string Name { get; set; } [JsonProperty("Shortname")] public string Shortname { get; set; } [JsonProperty("Количество")] public int Amount { get; set; } [JsonProperty("SkinID если требуется")] public ulong SkinID { get; set; } [JsonProperty("Команда")] public string Command { get; set; } public GroupGiftsList(string name, string shortname, int amount, ulong skinID, string command) { Name = name; Shortname = shortname; Amount = amount; SkinID = skinID; Command = command; } } } public class RaidSettings { [JsonProperty(PropertyName = "Включить систему оповещений о рейде?")] public bool TurnRaidAlert { get; set; } = true; [JsonProperty(PropertyName = "Оповещение при уничтожении обычных предметов")] public bool extralist { get; set; } = true; [JsonProperty(PropertyName = "Отправляемый текст при рейде")] public string RaidAlertMsg { get; set; } = "Внимание! Игрок {0} ({1}) разрушил ваше строение в квадрате {2} на сервере {3}\nconnect {4}:{5}"; [JsonProperty(PropertyName = "Дополнительный список предметов, которые учитывать", Order = 0)] public string[] CXGVJJRWSDNJIHEERGUQDHNIKXFHNTFMDAPMRRPTYGMLJVGY = new string[] { "wall.external.high", "wall.external.high.stone", "gates.external.high.wood", "gates.external.high.stone", "wall.window.bars.metal", "wall.window.bars.toptier", "wall.window.glass.reinforced", "wall.window.bars.wood" }; } } private void EBIWXUMDCGVACWFWNVXZYQTCEHDSXMDEBUBWRJWQRPG() { bool changed = false; Config.Settings.DefaultValueHandling = DefaultValueHandling.Populate; ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ = Config.ReadObject<ConfigData>(); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify == null) { ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify = new ConfigData.AdminNotify(); changed = true; } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify == null) { ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify = new ConfigData.ChatNotifySettings(); changed = true; } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg == null) { ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg = new ConfigData.WipeSettings(); changed = true; } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts == null) { ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts = new ConfigData.GroupGifts(); changed = true; } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett == null) { ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett = new ConfigData.RaidSettings(); changed = true; } Config.WriteObject(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ, true); if (changed) PrintWarning("Конфигурационный файл обновлен"); } protected override void LoadDefaultConfig() { var HKKWJTUKXKLDJIYYBGIRSMZRBRXVCZPRGRFJVQUHUCUHDP = new ConfigData { VKSett = new ConfigData.VKBotSettings(), VKAPIT = new ConfigData.VKAPITokens(), AdmNotify = new ConfigData.AdminNotify(), ChNotify = new ConfigData.ChatNotifySettings(), WipeStg = new ConfigData.WipeSettings(), GrGifts = new ConfigData.GroupGifts { Gifts = new List<ConfigData.GroupGifts.GroupGiftsList> { new ConfigData.GroupGifts.GroupGiftsList("Мишка", "pookie.bear", 1, 0, ""), new ConfigData.GroupGifts.GroupGiftsList("Оповещение о рейде", "", 1, 0, "grantperm {steamid} vkbot.raidalert 7d") } }, RaidSett = new ConfigData.RaidSettings() }; Config.WriteObject(HKKWJTUKXKLDJIYYBGIRSMZRBRXVCZPRGRFJVQUHUCUHDP, true); } class DataStorageUsers { public Dictionary<ulong, VKUDATA> YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC = new Dictionary<ulong, VKUDATA>(); public DataStorageUsers() { } } class VKUDATA { public ulong UserID; public string Name; public string CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX; public string NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ; public int ZDSKENDXASVVEVVLEWBIIUTHGWGLSDAERATEXBRSHQI; public bool HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU; public bool XKLPLLCQBODLVWLMOHTKKECGIVUGHEEOWBFUXMHAWJYQ; public string XNGZXMSTKBTIEGPQWJXKPOURROCATNAFMJLHOGKSLUMZMLTG; public bool RaidAlert; public bool WipeAlert; public int UOOUMTLDFYPBFRQEUDYCKVDFPSEJOIBBPCYENWLDTXFWPM; public int SJXHUJWEZLJFUPCOXWOMCTLQXSVJNPGPCCLARBHSTYZTER; public int NRJIABANZXGJCNMRJEUDSEBXWPVTETRMGAHSDHGOBOMCKR; public string EGGPPKNZJPLLKFHIFGTCBFTOCXGBDRZMFKRMYDCCS; } DataStorageUsers XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX; private DynamicConfigFile WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV; void LoadData() { try { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX = Interface.GetMod().DataFileSystem.ReadObject<DataStorageUsers>("VKBotUsers"); } catch { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX = new DataStorageUsers(); } } private void OnServerInitialized() { EZDNSVWZRGYCXEFISWSZTAPNGGFVUIDKVVXVUQOFMKZED(); EBIWXUMDCGVACWFWNVXZYQTCEHDSXMDEBUBWRJWQRPG(); WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV = Interface.Oxide.DataFileSystem.GetFile("VKBotUsers"); permission.RegisterPermission(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.PermRaidAlert, this); LoadData(); YQWZGGQYOKKRJYUMFGZSTOVDMRKKUHPOUAIZDYER(); if (ENBHDNQUCEPHRXQHFEUZXUJOYMVDEXCTVLZONDNCNPULJNLGZ) ONONENMZYCKNHGSQRTGPCQZHVIEEYGHIJSNQSPOK(); string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = $"[VKBot] Сервер успешно загружен."; if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.InitCheckMsg && !CMKYDJSYOCLKDPPUJUPFEJCOIXVHVMOATNKFXUVUC) { PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); CMKYDJSYOCLKDPPUJUPFEJCOIXVHVMOATNKFXUVUC = true; } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatNotify && ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatSettings.Contains("init") && !CMKYDJSYOCLKDPPUJUPFEJCOIXVHVMOATNKFXUVUC) { KUQLRZOTTBPXYWJNBWUCHLFMBPNUGVTUWJSRELXGU(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatID, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); CMKYDJSYOCLKDPPUJUPFEJCOIXVHVMOATNKFXUVUC = true; } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.VKGGNotify) timer.Repeat(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.VKGGTimer * 60, 0, OJKGDBVGLPROIZQZTVJOXQXMXQCUFJMXJLIOQVVBJCNZ); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.PluginsCheckMsg) WIYLAKWUEPOYMDMCRCENDMVXPGIPIZDMIZIGHYHH(); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.OxideCheckMsg) EHYDTYFKLPVBUSLFXHYACWFHFLTHRVOYQTBOYTQQPYV(); } private void Init() { cmd.AddChatCommand("vk", this, "VKcommand"); cmd.AddConsoleCommand("wipealerts", this, "WipeAlerts"); cmd.AddConsoleCommand("userinfo", this, "GetUserInfo"); cmd.AddConsoleCommand("usersdata.update", this, "UpdateUsersData"); BFIXERRBHTJGHYOCKLAIVJWIRTHTFKIKOSJWGFAMCZUQF = new JsonSerializerSettings(); BFIXERRBHTJGHYOCKLAIVJWIRTHTFKIKOSJWGFAMCZUQF.Converters.Add(new KeyValuePairConverter()); } private void OnNewSave(string VUHDGPVGAUYJTOSFNNJUBOZYOJWJSYRAQCYBRAPIVPI) => ENBHDNQUCEPHRXQHFEUZXUJOYMVDEXCTVLZONDNCNPULJNLGZ = true; private void OnPlayerInit(BasePlayer player) { if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID) && XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].Name != player.displayName) { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].Name = player.displayName; WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); } } private void OnPlayerDisconnected(BasePlayer player, string AKNQLIIWXJGHVJPXTLOBCXSRQQOMYBZMFFXDWGXKQVDHVQG) { if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID)) { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].EGGPPKNZJPLLKFHIFGTCBFTOCXGBDRZMFKRMYDCCS = DateTime.Now.ToString("dd.MM.yyyy HH:mm:ss"); WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); } } private void OnPlayerBanned(string name, ulong id, string AKNQLIIWXJGHVJPXTLOBCXSRQQOMYBZMFFXDWGXKQVDHVQG) { string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.BannedTopicMsg.Replace("{0}", name).Replace("{1}", $"{id}").Replace("{2}", AKNQLIIWXJGHVJPXTLOBCXSRQQOMYBZMFFXDWGXKQVDHVQG); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.UserBannedTopic && ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.BannedTopicID != "null") PHYKLNDZMIUAPTVFXQAJIZDEROSCCZDQIYTXYNRMV(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.BannedTopicID, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.UserBannedMsg) { if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(id) && XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[id].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU + $" . Ссылка на профиль ВК: vk.com/id{XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[id].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX}"; if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatNotify && ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatSettings.Contains("bans")) { KUQLRZOTTBPXYWJNBWUCHLFMBPNUGVTUWJSRELXGU(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatID, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); } else PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); } } private void ONONENMZYCKNHGSQRTGPCQZHVIEEYGHIJSNQSPOK() { if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WPostMsgAdmin) { string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = "[VKBot] Сервер "; if (ConVar.Server.levelurl != string.Empty) MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU + $"вайпнут. Установлена карта: {ConVar.Server.levelurl}."; else MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU + $"вайпнут. Установлена карта: {ConVar.Server.level}. Размер: {ConVar.Server.worldsize}. Сид: {ConVar.Server.seed}"; if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatNotify && ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatSettings.Contains("wipe")) { KUQLRZOTTBPXYWJNBWUCHLFMBPNUGVTUWJSRELXGU(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatID, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); } else PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WPostB) { if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WPostAttB) ACUTAIRQROUZHKQDYXLDJFWXCZZIROJDKPINEVHD($"{ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WPostMsg}&attachments={ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WPostAtt}"); else ACUTAIRQROUZHKQDYXLDJFWXCZZIROJDKPINEVHD($"{ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WPostMsg}"); } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.GiftsWipe) { if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.Count != 0) { for (int NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL = 0; NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL < XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.Count; NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL++) { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ElementAt(NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL).Value.XKLPLLCQBODLVWLMOHTKKECGIVUGHEEOWBFUXMHAWJYQ = false; } WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); } } if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WMsgPlayers) KWSCRCODJKZSOIXSNAZNNLKBOUILLCKUCZMEMTZVV(); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.GrNameChange) { string wipedate = RTSHFPDBDIRBRGUOWKBPMRFBIMRBJMFNYRZDNYZDS(); string PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN = ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.GrName.Replace("{wipedate}", wipedate); webrequest.Enqueue("https://api.vk.com/method/groups.edit?group_id=" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.GroupID + "&title=" + PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN + "&" + GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV + "&access_token=" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.VKToken, null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => { var DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ = JObject.Parse(IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM); string PVMEZKMAJDSUWJGWVLEHXJZXDFDCRXSMFTTTBCECJGRWEISZS = (string)DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ["response"]; if (PVMEZKMAJDSUWJGWVLEHXJZXDFDCRXSMFTTTBCECJGRWEISZS == "1") PrintWarning($"Новое имя группы - {PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN}"); else { PrintWarning("Ошибка смены имени группы. Логи - /oxide/logs/VKBot/"); GRGWMRICMEGMWGWAISGTYLFDWKJDOIWVBQTRGRVAMTSKM("Errors", $"group title not changed. Error: {IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM}"); } }, this); } } private void WipeAlerts(ConsoleSystem.Arg LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT) { if (LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.IsAdmin != true) return; KWSCRCODJKZSOIXSNAZNNLKBOUILLCKUCZMEMTZVV(); } private void KWSCRCODJKZSOIXSNAZNNLKBOUILLCKUCZMEMTZVV() { List<string> UserList = new List<string>(); string BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW = ""; int EGPSEKKYGRVCRYDPCYCGHPYQMUNQCZAFKKWNAPVHYEJRVUQ = 0; if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.Count != 0) { for (int NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL = 0; NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL < XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.Count; NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL++) { if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WCMDIgnore || XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ElementAt(NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL).Value.WipeAlert) { if (!ServerUsers.BanListString().Contains(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ElementAt(NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL).Value.UserID.ToString())) { if (EGPSEKKYGRVCRYDPCYCGHPYQMUNQCZAFKKWNAPVHYEJRVUQ == 100) { UserList.Add(BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW); BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW = ""; EGPSEKKYGRVCRYDPCYCGHPYQMUNQCZAFKKWNAPVHYEJRVUQ = 0; } if (EGPSEKKYGRVCRYDPCYCGHPYQMUNQCZAFKKWNAPVHYEJRVUQ > 0) BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW = BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW + ", "; BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW = BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW + XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ElementAt(NMDVZYYIDQVRRCCAAMBYPUCEFFPPNLSLITWGOHIAEFVMCL).Value.CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX; EGPSEKKYGRVCRYDPCYCGHPYQMUNQCZAFKKWNAPVHYEJRVUQ++; } } } } if (BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW == "" && UserList.Count == 0) { PrintWarning($"Список адресатов рассылки о вайпе пуст."); return; } string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WMsgText.Replace("{0}", ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.ServerName).Replace("{1}", $"{ConVar.Server.ip}").Replace("{2}", $"{ConVar.Server.port}"); if (UserList.Count > 0) { foreach (var list in UserList) PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(list, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); } PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(BKUZYFLXUPKFHHJCLJORVFHDAUPIZRJCPJRWHYSMSVAW, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); } private void UpdateUsersData(ConsoleSystem.Arg LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT) { if (LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.IsAdmin != true) return; YYHCVRNVKDHQQGJUTMOVFDGVWXJPVIHCIKVQNBQAWP(LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args?[0]); } private void VGCASFGXNKKOPJTRQKYBYIZCXAVQHHPFHALMZDYLRQUDKIM(BasePlayer player, string AGCQTXHXAPQVZQAVWVIJHZZKMVRIUJCASBAGLNRKMOVL) { string LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT = null; string[] PWPWYQLOIYGJWUWHQQRHCQPNDUHDGGUSEOBFJDGUYIFBJLKEH = AGCQTXHXAPQVZQAVWVIJHZZKMVRIUJCASBAGLNRKMOVL.Split('/'); string vkname = PWPWYQLOIYGJWUWHQQRHCQPNDUHDGGUSEOBFJDGUYIFBJLKEH[PWPWYQLOIYGJWUWHQQRHCQPNDUHDGGUSEOBFJDGUYIFBJLKEH.Length - 1]; webrequest.Enqueue("https://api.vk.com/method/users.get?user_ids=" + vkname + "&" + GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV + "&access_token=" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.VKToken, null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => { if (!IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM.Contains("error")) { var DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ = JObject.Parse(IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM); LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT = (string)DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ["response"][0]["id"]; if (LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT != null) XAHPLMUMHZDSJQPGVFHPYGSNMNJHOVSONJTHZAUVFYEZ(player, LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT); else PrintToChat(player, "Ошибка обработки вашей ссылки ВК, обратитесь к администратору."); } else { PrintWarning($"Ошибка проверки ВК профиля игрока {player.displayName} ({player.userID}). URL - {AGCQTXHXAPQVZQAVWVIJHZZKMVRIUJCASBAGLNRKMOVL}"); GRGWMRICMEGMWGWAISGTYLFDWKJDOIWVBQTRGRVAMTSKM("checkresponce", $"Ошибка проверки ВК профиля игрока {player.displayName} ({player.userID}). URL - {AGCQTXHXAPQVZQAVWVIJHZZKMVRIUJCASBAGLNRKMOVL}. Ответ сервера ВК: {IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM}"); } }, this); } private void XAHPLMUMHZDSJQPGVFHPYGSNMNJHOVSONJTHZAUVFYEZ(BasePlayer player, string LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT) { if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID)) { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.Add(player.userID, new VKUDATA() { UserID = player.userID, Name = player.displayName, CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX = LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT, ZDSKENDXASVVEVVLEWBIIUTHGWGLSDAERATEXBRSHQI = TISSBJEMJQRNQECWLFXCUBQRLIAXFKBPDFEUACJPKATXLAZPJ.Next(1, 9999999), HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU = false, XKLPLLCQBODLVWLMOHTKKECGIVUGHEEOWBFUXMHAWJYQ = false, RaidAlert = false, NRJIABANZXGJCNMRJEUDSEBXWPVTETRMGAHSDHGOBOMCKR = 0, SJXHUJWEZLJFUPCOXWOMCTLQXSVJNPGPCCLARBHSTYZTER = 0, UOOUMTLDFYPBFRQEUDYCKVDFPSEJOIBBPCYENWLDTXFWPM = 0, EGGPPKNZJPLLKFHIFGTCBFTOCXGBDRZMFKRMYDCCS = DateTime.Now.ToString("dd.MM.yyyy HH:mm:ss") }); WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); CTLIBIBLWPJLBWFSAVFSVOVZFOFJISBFZGZQMRGWSSBM(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX, $"Для подтверждения вашего ВК профиля введите в игровой чат команду /vk confirm {XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].ZDSKENDXASVVEVVLEWBIIUTHGWGLSDAERATEXBRSHQI}", player); } else { if (LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT == XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX && XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) { PrintToChat(player, lang.GetMessage("ПрофильДобавленИПодтвержден", this, player.UserIDString)); return; } if (LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT == XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX && !XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) { PrintToChat(player, lang.GetMessage("ПрофильДобавлен", this, player.UserIDString)); return; } XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].Name = player.displayName; XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX = LBPMUODFKDAHREYFZCQMPDYQUJIDYXTEOQAUCVAUYVHYAZT; XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU = false; XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].ZDSKENDXASVVEVVLEWBIIUTHGWGLSDAERATEXBRSHQI = TISSBJEMJQRNQECWLFXCUBQRLIAXFKBPDFEUACJPKATXLAZPJ.Next(1, 9999999); WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); CTLIBIBLWPJLBWFSAVFSVOVZFOFJISBFZGZQMRGWSSBM(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX, $"Для подтверждения вашего ВК профиля введите в игровой чат команду /vk confirm {XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].ZDSKENDXASVVEVVLEWBIIUTHGWGLSDAERATEXBRSHQI}", player); } } private void VKcommand(BasePlayer player, string cmd, string[] args) { Effect HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU = new Effect("assets/prefabs/misc/easter/painted eggs/effects/gold_open.prefab", player, 0, new Vector3(), new Vector3()); if (args.Length > 0) { if (args[0] == "add") { if (args.Length == 1) { PrintToChat(player, lang.GetMessage("Подсказка", this, player.UserIDString)); return; } if (!args[1].Contains("vk.com/")) { PrintToChat(player, lang.GetMessage("НеправильнаяСсылка", this, player.UserIDString)); return; } VGCASFGXNKKOPJTRQKYBYIZCXAVQHHPFHALMZDYLRQUDKIM(player, args[1]); } if (args[0] == "confirm") { if (args.Length >= 2) { if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID)) { if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) { PrintToChat(player, lang.GetMessage("ПрофильДобавленИПодтвержден", this, player.UserIDString)); return; } if (args[1] == XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].ZDSKENDXASVVEVVLEWBIIUTHGWGLSDAERATEXBRSHQI.ToString()) { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU = true; WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); PrintToChat(player, lang.GetMessage("ПрофильПодтвержден", this, player.UserIDString)); EffectNetwork.Send(HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU, player.Connection); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.VKGroupGifts) PrintToChat(player, string.Format(lang.GetMessage("ОповещениеОПодарках", this, player.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl)); } else PrintToChat(player, lang.GetMessage("НеверныйКод", this, player.UserIDString)); } else PrintToChat(player, lang.GetMessage("ПрофильНеДобавлен", this, player.UserIDString)); } else { if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID)) { PrintToChat(player, lang.GetMessage("ПрофильНеДобавлен", this, player.UserIDString)); return; } if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) { PrintToChat(player, lang.GetMessage("ПрофильДобавленИПодтвержден", this, player.UserIDString)); return; } CTLIBIBLWPJLBWFSAVFSVOVZFOFJISBFZGZQMRGWSSBM(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX, $"Для подтверждения вашего ВК профиля введите в игровой чат команду /vk confirm {XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].ZDSKENDXASVVEVVLEWBIIUTHGWGLSDAERATEXBRSHQI}", player); } } if (args[0] == "gift") KVBZTJCNCGOXBCYWAGFHVDKNJVCKZPNEKMTTSXJIIXQMBY(player); if (args[0] == "wipe") Alert(player, "wipe"); if (args[0] == "raid") Alert(player, "raid"); if (args[0] != "add" && args[0] != "gift" && args[0] != "confirm" && args[0] != "wipe" && args[0] != "raid") { PrintToChat(player, lang.GetMessage("ДоступныеКоманды", this, player.UserIDString)); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.VKGroupGifts) PrintToChat(player, string.Format(lang.GetMessage("ОповещениеОПодарках", this, player.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl)); } } else MenuSystem?.Call("MS_CustomCMD", player, "profile", true); } private void Alert(BasePlayer player, string EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL) { if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID)) { PrintToChat(player, lang.GetMessage("ПрофильНеДобавлен", this, player.UserIDString)); return; } if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) { PrintToChat(player, lang.GetMessage("ПрофильНеПодтвержден", this, player.UserIDString)); return; } if (EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL == "wipe") { if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WCMDIgnore) { PrintToChat(player, lang.GetMessage("АвтоОповещенияОвайпе", this, player.UserIDString)); return; } if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].WipeAlert) { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].WipeAlert = false; WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); PrintToChat(player, lang.GetMessage("ВайпВыкл", this, player.UserIDString)); } else { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].WipeAlert = true; WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); PrintToChat(player, lang.GetMessage("ВайпВкл", this, player.UserIDString)); } } if (EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL == "raid") { if (!ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett.TurnRaidAlert) { PrintToChat(player, lang.GetMessage("ФункцияОтключена", this, player.UserIDString)); return; } if(!permission.UserHasPermission(player.UserIDString, ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.PermRaidAlert)) { PrintToChat(player, lang.GetMessage("АвтоОповещенияОвайпе", this, player.UserIDString)); return; } if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].RaidAlert) { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].RaidAlert = false; WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); PrintToChat(player, lang.GetMessage("РейдВыкл", this, player.UserIDString)); } else { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].RaidAlert = true; WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); PrintToChat(player, lang.GetMessage("РейдВкл", this, player.UserIDString)); } } } private void IOJXZLYNCUZHLYKIEOFXVOEPERARQEWYGLVFAEYCU(BasePlayer player) { if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.VKGroupGifts) { if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID)) { PrintToChat(player, lang.GetMessage("ПрофильНеДобавлен", this, player.UserIDString)); return; } if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) { PrintToChat(player, lang.GetMessage("ПрофильНеПодтвержден", this, player.UserIDString)); return; } if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].XKLPLLCQBODLVWLMOHTKKECGIVUGHEEOWBFUXMHAWJYQ) { PrintToChat(player, lang.GetMessage("НаградаУжеПолучена", this, player.UserIDString)); return; } webrequest.Enqueue($"https://api.vk.com/method/groups.isMember?group_id={ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.GroupID}&user_id={XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX}&" + GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV + $"&access_token={ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.VKToken}", null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => { if (IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM == null || !IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM.Contains("response")) return; var DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ = JObject.Parse(IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM); if (DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ == null) return; string PVMEZKMAJDSUWJGWVLEHXJZXDFDCRXSMFTTTBCECJGRWEISZS = (string)DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ["response"]; if (PVMEZKMAJDSUWJGWVLEHXJZXDFDCRXSMFTTTBCECJGRWEISZS == null) return; XOAUUMTFPNOZHTKUTILGWXYABZCFIZPCCRRPOJWNX(code, PVMEZKMAJDSUWJGWVLEHXJZXDFDCRXSMFTTTBCECJGRWEISZS, player); }, this); } else PrintToChat(player, lang.GetMessage("ФункцияОтключена", this, player.UserIDString)); } private void XOAUUMTFPNOZHTKUTILGWXYABZCFIZPCCRRPOJWNX(int code, string PVMEZKMAJDSUWJGWVLEHXJZXDFDCRXSMFTTTBCECJGRWEISZS, BasePlayer player) { if (PVMEZKMAJDSUWJGWVLEHXJZXDFDCRXSMFTTTBCECJGRWEISZS == "1") { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].XKLPLLCQBODLVWLMOHTKKECGIVUGHEEOWBFUXMHAWJYQ = true; WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); PrintToChat(player, lang.GetMessage("НаградаПолучена", this, player.UserIDString)); if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.GiftsBool) Server.Broadcast(string.Format(lang.GetMessage("ПолучилНаграду", this, player.UserIDString), player.displayName, ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl)); foreach (var gf in ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.Gifts) { if (!string.IsNullOrEmpty(gf.Command)) { string cmd = gf.Command.Replace("{steamid}", player.userID.ToString()); Server.Command(cmd); } else { Item gift = ItemManager.CreateByName(gf.Shortname, gf.Amount, gf.SkinID); gift.MoveToContainer(player.inventory.containerMain, -1, false); } PrintToChat(player, string.Format(lang.GetMessage("НаградаСписок", this, player.UserIDString), gf.Name)); } Effect GJDLQADXVGBLQDNUFACOSYBTFMCWNYKRQSRDHMSTHQILISEAS = new Effect("assets/prefabs/misc/xmas/presents/effects/unwrap.prefab", player, 0, new Vector3(), new Vector3()); EffectNetwork.Send(GJDLQADXVGBLQDNUFACOSYBTFMCWNYKRQSRDHMSTHQILISEAS, player.Connection); } else PrintToChat(player, string.Format(lang.GetMessage("НеВступилВГруппу", this, player.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl)); } private void OJKGDBVGLPROIZQZTVJOXQXMXQCUFJMXJLIOQVVBJCNZ() { if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.VKGroupGifts) { foreach (var pl in BasePlayer.activePlayerList) { if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(pl.userID)) PrintToChat(pl, string.Format(lang.GetMessage("ОповещениеОПодарках", this, pl.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl)); else { if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[pl.userID].XKLPLLCQBODLVWLMOHTKKECGIVUGHEEOWBFUXMHAWJYQ) PrintToChat(pl, string.Format(lang.GetMessage("ОповещениеОПодарках", this, pl.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl)); } } } } private void GetUserInfo(ConsoleSystem.Arg LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT) { if (LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.IsAdmin != true) return; if (LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args == null) { PrintWarning($"Введите команду userinfo ник/steamid/vkid для получения информации о игроке из базы vkbot"); return; } string[] args = LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args; if (args.Length > 0) { bool KUPOFHIKGEXHKWWKUYMJNTIIHCQPKNHBEROPCCNJVXGOWZGM = false; foreach (var pl in XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC) { if (pl.Value.Name.ToLower().Contains(args[0]) || pl.Value.UserID.ToString() == (args[0]) || pl.Value.CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX == (args[0])) { KUPOFHIKGEXHKWWKUYMJNTIIHCQPKNHBEROPCCNJVXGOWZGM = true; string PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN = "Никнейм: " + pl.Value.Name + "\nSTEAM: steamcommunity.com/profiles/" + pl.Value.UserID + "/"; if (pl.Value.HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN = PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN + "\nVK: vk.com/id" + pl.Value.CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX; else PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN = PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN + "\nVK: vk.com/id" + pl.Value.CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX + " (не подтвержден)"; Puts(PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN); } } if (!KUPOFHIKGEXHKWWKUYMJNTIIHCQPKNHBEROPCCNJVXGOWZGM) Puts("Не найдено игроков с таким именем / steamid / vkid"); } } private void CTLIBIBLWPJLBWFSAVFSVOVZFOFJISBFZGZQMRGWSSBM(string reciverID, string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU, BasePlayer player) => webrequest.Enqueue("https://api.vk.com/method/messages.send?user_ids=" + reciverID + "&message=" + MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU + "&" + GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV + "&random_id=" + EFPDUWMIGEGTVPDTSWUBWNFESQZXGKZOOZVYPOUWPUT() + "&access_token=" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.VKToken, null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => GetCallback(code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM, "Код подтверждения", player), this); private void WIYLAKWUEPOYMDMCRCENDMVXPGIPIZDMIZIGHYHH() { var YYGOIIQMGGCRSZSWVDSHGHRLCOQNUMHWEZLOANVIXDVWKS = plugins.GetAll().Where(pl => !pl.IsCorePlugin).ToArray(); var XNRAWNEJQGVLUSDSUZGMSNEVIHKJDMVAKLSACLLIZ = new HashSet<string>(YYGOIIQMGGCRSZSWVDSHGHRLCOQNUMHWEZLOANVIXDVWKS.Select(pl => pl.Name)); var VIFCBPULBWDFJJJWSODUGELUBIZDPIOYMCSVQGFUPRKYXE = new Dictionary<string, string>(); foreach (var loader in Interface.Oxide.GetPluginLoaders()) { string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU; foreach (var name in loader.ScanDirectory(Interface.Oxide.PluginDirectory).Except(XNRAWNEJQGVLUSDSUZGMSNEVIHKJDMVAKLSACLLIZ)) { VIFCBPULBWDFJJJWSODUGELUBIZDPIOYMCSVQGFUPRKYXE[name] = loader.PluginErrors.TryGetValue(name, out MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU) ? MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU : "Unloaded"; } } if (VIFCBPULBWDFJJJWSODUGELUBIZDPIOYMCSVQGFUPRKYXE.Count > 0) { string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = $"[VKBot]  Произошла ошибка загрузки следующих плагинов:"; foreach (var pluginerror in VIFCBPULBWDFJJJWSODUGELUBIZDPIOYMCSVQGFUPRKYXE) MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU = MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU + " " + pluginerror.Key + "."; if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatNotify && ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatSettings.Contains("plugins")) { KUQLRZOTTBPXYWJNBWUCHLFMBPNUGVTUWJSRELXGU(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.ChNotify.ChatID, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); } else PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ, MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU); } } private void KUQLRZOTTBPXYWJNBWUCHLFMBPNUGVTUWJSRELXGU(string ZIRQXIIJZENVASQSDOIXWXUAAXJCRJACOPCSREDMV, string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU) => webrequest.Enqueue($"https://api.vk.com/method/messages.send?chat_id={ZIRQXIIJZENVASQSDOIXWXUAAXJCRJACOPCSREDMV}&random_id="+ EFPDUWMIGEGTVPDTSWUBWNFESQZXGKZOOZVYPOUWPUT() + "&message=" + FNOUKFLMCRXQQANQZTXBRRDEDAHQAXKXXWMSMNBMQWJOPI(MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU) + $"&access_token={ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.VKToken}&{GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV}", null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => GetCallback(code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM, "Сообщение в беседу"), this); private void PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(string reciverID, string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU) => webrequest.Enqueue("https://api.vk.com/method/messages.send?user_ids=" + reciverID + "&message=" + FNOUKFLMCRXQQANQZTXBRRDEDAHQAXKXXWMSMNBMQWJOPI(MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU) + "&"+GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV + "&random_id=" + EFPDUWMIGEGTVPDTSWUBWNFESQZXGKZOOZVYPOUWPUT() + "&access_token=" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.VKToken, null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => GetCallback(code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM, "Сообщение"), this); private void ACUTAIRQROUZHKQDYXLDJFWXCZZIROJDKPINEVHD(string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU) => webrequest.Enqueue("https://api.vk.com/method/wall.post?owner_id=-" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.GroupID + "&message=" + FNOUKFLMCRXQQANQZTXBRRDEDAHQAXKXXWMSMNBMQWJOPI(MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU) + "&from_group=1&"+GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV+"&access_token=" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.VKToken, null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => GetCallback(code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM, "Пост"), this); private void PHYKLNDZMIUAPTVFXQAJIZDEROSCCZDQIYTXYNRMV(string topicid, string MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU) => webrequest.Enqueue("https://api.vk.com/method/board.createComment?group_id=" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.GroupID + "&topic_id=" + FNOUKFLMCRXQQANQZTXBRRDEDAHQAXKXXWMSMNBMQWJOPI(topicid) + "&from_group=1&message=" + MUSDTBBESFCIZHMVMDADLKSSCHZDOYCYDURXHBKPU + "&"+GCBTTBDPAQOKOEGUWIORNRISYEVZGYBFNSXKIHHV+"&access_token=" + ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKAPIT.VKToken, null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => GetCallback(code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM, "Комментарий в обсуждения"), this); private string EFPDUWMIGEGTVPDTSWUBWNFESQZXGKZOOZVYPOUWPUT() => TISSBJEMJQRNQECWLFXCUBQRLIAXFKBPDFEUACJPKATXLAZPJ.Next(Int32.MinValue, Int32.MaxValue).ToString(); string JOCETEUVRUNRZLKDWPBWERFWUFEECXLBTGUDNUDCQEWTLDYED(ulong userid) { if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(userid) || !XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[userid].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) return null; if (BMVPYPKOCCPKHJMAEKEOKDAVETIITPRTSRGSGXCR.Contains(userid.ToString())) return null; return XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[userid].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX; } string ZATWURJGJOAPSUILXTQHPCLYFAVLKQHZBLYLIXLDTHKPCA(ulong userid) { if (!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(userid) || !XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[userid].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) return null; return XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[userid].XNGZXMSTKBTIEGPQWJXKPOURROCATNAFMJLHOGKSLUMZMLTG; } string CKAGENVAXPUQUWXVTGAOHWXDAINNHRVWFOSBKJCMFKAW() => ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ; void GRGWMRICMEGMWGWAISGTYLFDWKJDOIWVBQTRGRVAMTSKM(string VUHDGPVGAUYJTOSFNNJUBOZYOJWJSYRAQCYBRAPIVPI, string PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN) => LogToFile(VUHDGPVGAUYJTOSFNNJUBOZYOJWJSYRAQCYBRAPIVPI, $"[{DateTime.Now}] {PUGAYNVBTJYQTIJUSXKIYFVMTDAUKZQCTCAUHLUXN}", this); void GetCallback(int code, string IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM, string EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL, BasePlayer player = null) { if (!IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM.Contains("error")) { Puts($"{EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL} отправлен(о): {IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM}"); if (EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL == "Код подтверждения" && player != null) ULHWHKSFFLQXAIEOPBQEDGKVAYKSXNFWKOWMZHJXSYVG(player, "sended"); PrintToChat(player, lang.GetMessage("КодОтправлен", this, player.UserIDString)); } else { if (EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL == "Код подтверждения") { if (IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM.Contains("Can't send messages for users without permission") && player != null) { ULHWHKSFFLQXAIEOPBQEDGKVAYKSXNFWKOWMZHJXSYVG(player, "notsended"); PrintToChat(player, string.Format(lang.GetMessage("КодНеОтправлен", this, player.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl)); } else GRGWMRICMEGMWGWAISGTYLFDWKJDOIWVBQTRGRVAMTSKM("errorconfcode", $"Ошибка отправки кода подтверждения. Ответ сервера ВК: {IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM}"); } else { PrintWarning($"{EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL} не отправлен(о). Файлы лога: /oxide/logs/VKBot/"); GRGWMRICMEGMWGWAISGTYLFDWKJDOIWVBQTRGRVAMTSKM("Errors", $"{EPPYNUOEFSFPBJIILKLCJWTGROCCXDPLNAZMGPGBL} не отправлен(о). Ошибка: " + IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM); } } } private string RTSHFPDBDIRBRGUOWKBPMRFBIMRBJMFNYRZDNYZDS() => SaveRestore.SaveCreatedTime.ToLocalTime().ToString("dd.MM"); private string FNOUKFLMCRXQQANQZTXBRRDEDAHQAXKXXWMSMNBMQWJOPI(string input) { if (input.Contains("#")) input = input.Replace("#", "%23"); if (input.Contains("$")) input = input.Replace("$", "%24"); if (input.Contains("+")) input = input.Replace("+", "%2B"); if (input.Contains("/")) input = input.Replace("/", "%2F"); if (input.Contains(":")) input = input.Replace(":", "%3A"); if (input.Contains(";")) input = input.Replace(";", "%3B"); if (input.Contains("?")) input = input.Replace("?", "%3F"); if (input.Contains("@")) input = input.Replace("@", "%40"); return input; } private void YQWZGGQYOKKRJYUMFGZSTOVDMRKKUHPOUAIZDYER() { if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ.Contains("/")) { string id = ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ.Trim(new char[] { '/' }); ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ = id; Config.WriteObject(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ, true); PrintWarning("VK ID администратора исправлен"); } } private void YYHCVRNVKDHQQGJUTMOVFDGVWXJPVIHCIKVQNBQAWP(string FZHJBLMSOHMMOLXQPYSRBFJWOMBONQIRVBFKPQNWDHYTMEQ = null) { int JRGTWEFKQXKATPRVSIFTHQNGMJJFOTMXXGQLJPST = 30; int t; if (FZHJBLMSOHMMOLXQPYSRBFJWOMBONQIRVBFKPQNWDHYTMEQ != null && Int32.TryParse(FZHJBLMSOHMMOLXQPYSRBFJWOMBONQIRVBFKPQNWDHYTMEQ, out t)) JRGTWEFKQXKATPRVSIFTHQNGMJJFOTMXXGQLJPST = t; int AVFMMYIJHFXHVENRBAFSKPAGZDDOZAQRSEWPIRZBXDVKNE = 0; List<ulong> KBIFVYOHLVYMJUTJGOGOQIYJJBEVGTPTVISNQVUSDWKTJEQG = new List<ulong>(); foreach (var user in XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC) { if (user.Value.EGGPPKNZJPLLKFHIFGTCBFTOCXGBDRZMFKRMYDCCS == null) KBIFVYOHLVYMJUTJGOGOQIYJJBEVGTPTVISNQVUSDWKTJEQG.Add(user.Key); else { DateTime TPVHPECDZVUUTBRFFRACFSLTNLTXEZELYQMETLGDQ; if (DateTime.TryParseExact(user.Value.EGGPPKNZJPLLKFHIFGTCBFTOCXGBDRZMFKRMYDCCS, "dd.MM.yyyy HH:mm:ss", CultureInfo.InvariantCulture, DateTimeStyles.None, out TPVHPECDZVUUTBRFFRACFSLTNLTXEZELYQMETLGDQ) && DateTime.Now.Subtract(TPVHPECDZVUUTBRFFRACFSLTNLTXEZELYQMETLGDQ).Days >= JRGTWEFKQXKATPRVSIFTHQNGMJJFOTMXXGQLJPST) KBIFVYOHLVYMJUTJGOGOQIYJJBEVGTPTVISNQVUSDWKTJEQG.Add(user.Key); } } foreach (var d in KBIFVYOHLVYMJUTJGOGOQIYJJBEVGTPTVISNQVUSDWKTJEQG) { XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.Remove(d); AVFMMYIJHFXHVENRBAFSKPAGZDDOZAQRSEWPIRZBXDVKNE++; } if (AVFMMYIJHFXHVENRBAFSKPAGZDDOZAQRSEWPIRZBXDVKNE > 0) { PrintWarning($"Удалено устаревших профилей игроков из базы VKBot: {AVFMMYIJHFXHVENRBAFSKPAGZDDOZAQRSEWPIRZBXDVKNE}"); WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); } else PrintWarning($"Нет профилей для удаления."); } private void EHYDTYFKLPVBUSLFXHYACWFHFLTHRVOYQTBOYTQQPYV() { string RZAYJVTNENPEYBEBUDLFYZQJWDONLTLWLVALTOBXERV = Manager.GetPlugin("RustCore").Version.ToString(); webrequest.Enqueue("https://api-methods.st8.ru/v2/umod", null, (code, IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM) => { if (code == 200 || IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM != null) { var DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ = JObject.Parse(IJIMXHAEAODNPIAQJSZPIIBHUNLWNKQOTKJHVXJDOSAKHINM); if (DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ == null) return; string latestver = (string)DWPQORVKCORCEKZUGUMBRTTWWRIONHDMVGBZXCPJZZWBKQ["latest_release_version"]; if (latestver == null) return; if (latestver != RZAYJVTNENPEYBEBUDLFYZQJWDONLTLWLVALTOBXERV && !SVQVKDHQYNSPZTKVPGNLDBOLRQEKWPYUCDQGYMMS) { PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.AdmNotify.NKIFWMNODBQSHTXDGKITHJMHNBQITHQMWGKOJMDCWBYUEMWZ, $"Доступно новое обновление Oxide {latestver}. https://umod.org/games/rust"); SVQVKDHQYNSPZTKVPGNLDBOLRQEKWPYUCDQGYMMS = true; } } }, this); timer.Once(3600f, () => { EHYDTYFKLPVBUSLFXHYACWFHFLTHRVOYQTBOYTQQPYV(); }); } private string BMVPYPKOCCPKHJMAEKEOKDAVETIITPRTSRGSGXCR = ServerUsers.BanListString(); private void VkMain(BasePlayer player) { CuiHelper.DestroyUi(player, "MainVk"); string KLZVSFKQIYQEURYLZLEHCVNKVSQCTTGHMUASAZMNXSLQAOX = "vkbot.command vk default"; string IGGMXKROXPZZOHWORJRARFLAYQJJKWKGUQUMNUJCCLULZMZQV = "vkbot.command gift default"; string YRXXICVGOGBIEBESEYNJBXZPYGKZALRTOOYSJXIRRHFCAUGT = "vkbot.command alert default"; bool HIBDLVARHZBSVGCPITQCLJHPVSTRXPEZQTTDQQCSXB = XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID); bool YGZVBDNRAQQUXALHTBIUSVCBCMZYSRXEKHJIWWSO = HIBDLVARHZBSVGCPITQCLJHPVSTRXPEZQTTDQQCSXB && XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU; bool XDIAYVDEIIROGJDDXTOEOZITMKQRCLWIULVRTBERWTJ = HIBDLVARHZBSVGCPITQCLJHPVSTRXPEZQTTDQQCSXB && XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].XKLPLLCQBODLVWLMOHTKKECGIVUGHEEOWBFUXMHAWJYQ; string GQDXGEYDEKUXVPNNELCXMIUVOMJWOWIVPZMVGTLXMTD = JOCETEUVRUNRZLKDWPBWERFWUFEECXLBTGUDNUDCQEWTLDYED(player.userID); string QXVENQMKRMWXVIJUVBOHBZIVCSHLAELSEKERQFJYJYD = string.IsNullOrEmpty(GQDXGEYDEKUXVPNNELCXMIUVOMJWOWIVPZMVGTLXMTD) ? lang.GetMessage("ПодключениеСтраницы", this, player.UserIDString) : "vk.com/id" + GQDXGEYDEKUXVPNNELCXMIUVOMJWOWIVPZMVGTLXMTD; string DPAYKQCKEWIROZBVJBJNBDSLDRDPSQXDVFSNRJBJB = !XDIAYVDEIIROGJDDXTOEOZITMKQRCLWIULVRTBERWTJ ? lang.GetMessage("ПолучениеПодарка", this, player.UserIDString) : lang.GetMessage("ПолученПодарок", this, player.UserIDString); if (HIBDLVARHZBSVGCPITQCLJHPVSTRXPEZQTTDQQCSXB) { if (!YGZVBDNRAQQUXALHTBIUSVCBCMZYSRXEKHJIWWSO) { KLZVSFKQIYQEURYLZLEHCVNKVSQCTTGHMUASAZMNXSLQAOX = "vkbot.command vk confirm"; } else { KLZVSFKQIYQEURYLZLEHCVNKVSQCTTGHMUASAZMNXSLQAOX = ""; IGGMXKROXPZZOHWORJRARFLAYQJJKWKGUQUMNUJCCLULZMZQV = "vkbot.command gift complete"; YRXXICVGOGBIEBESEYNJBXZPYGKZALRTOOYSJXIRRHFCAUGT = "vkbot.command alert settings"; } if (XDIAYVDEIIROGJDDXTOEOZITMKQRCLWIULVRTBERWTJ) { IGGMXKROXPZZOHWORJRARFLAYQJJKWKGUQUMNUJCCLULZMZQV = ""; } } var OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM = new CuiElementContainer(); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "ProfileMenu_UI", Name = "MainVk", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary?.Call("GetImage", "BgrndVk"), Color = "1 1 1 1" }, new CuiRectTransformComponent {AnchorMin = "0 0", AnchorMax = "0 0", OffsetMin = "50 50", OffsetMax = "400 210"}, } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.03 1", AnchorMax = "0.97 1", OffsetMin = "0 -55", OffsetMax = "0 -25" }, Button = { Command = KLZVSFKQIYQEURYLZLEHCVNKVSQCTTGHMUASAZMNXSLQAOX, Color = "0.1 0.1 0.1 0" }, Text = { Text = "" } }, "MainVk", "Vk"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "Vk", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileLine"), Color = "0.65 0.65 0.65 0.6" }, new CuiRectTransformComponent { AnchorMin = "0 0",  AnchorMax = "1 1" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "Vk", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileVk"), Color = "0.7 0.7 0.7 0.7" }, new CuiRectTransformComponent { AnchorMin = "0 0.1",  AnchorMax = "0 0.9", OffsetMin = "10 0", OffsetMax = "35 0" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Text = { Text = QXVENQMKRMWXVIJUVBOHBZIVCSHLAELSEKERQFJYJYD, Align = TextAnchor.MiddleCenter, FontSize = 13, Color = "0.929 0.882 0.847 0.75" } }, "Vk"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.03 1", AnchorMax = "0.97 1", OffsetMin = "0 -95", OffsetMax = "0 -65" }, Button = { Command = IGGMXKROXPZZOHWORJRARFLAYQJJKWKGUQUMNUJCCLULZMZQV, Color = "0.1 0.1 0.1 0" }, Text = { Text = "" } }, "MainVk", "Gift"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "Gift", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileLine"), Color = "0.65 0.65 0.65 0.6" }, new CuiRectTransformComponent { AnchorMin = "0 0",  AnchorMax = "1 1" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "Gift", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileGift"), Color = "0.7 0.7 0.7 0.7" }, new CuiRectTransformComponent { AnchorMin = "0 0.1",  AnchorMax = "0 0.9", OffsetMin = "10 0", OffsetMax = "35 0" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Text = { Text = DPAYKQCKEWIROZBVJBJNBDSLDRDPSQXDVFSNRJBJB, Align = TextAnchor.MiddleCenter, FontSize = 13, Color = "0.929 0.882 0.847 0.75" } }, "Gift"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.03 1", AnchorMax = "0.97 1", OffsetMin = "0 -135", OffsetMax = "0 -105" }, Button = { Command = YRXXICVGOGBIEBESEYNJBXZPYGKZALRTOOYSJXIRRHFCAUGT, Color = "0.1 0.1 0.1 0" }, Text = { Text = "" } }, "MainVk", "Alert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "Alert", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileLine"), Color = "0.65 0.65 0.65 0.6" }, new CuiRectTransformComponent { AnchorMin = "0 0",  AnchorMax = "1 1" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "Alert", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileAlert"), Color = "0.7 0.7 0.7 0.7" }, new CuiRectTransformComponent { AnchorMin = "0 0.1",  AnchorMax = "0 0.9", OffsetMin = "10 0", OffsetMax = "35 0" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Text = { Text = lang.GetMessage("УправлениеОповещениями", this, player.UserIDString), Align = TextAnchor.MiddleCenter, FontSize = 13, Color = "0.929 0.882 0.847 0.75" } }, "Alert"); CuiHelper.AddUi(player, OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM); } private void ULHWHKSFFLQXAIEOPBQEDGKVAYKSXNFWKOWMZHJXSYVG(BasePlayer player, string LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO) { if (string.IsNullOrEmpty(LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO)) return; CuiHelper.DestroyUi(player, "VkMenu"); var OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM = new CuiElementContainer(); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiPanel { RectTransform = { AnchorMin = "0 0", AnchorMax = "0.9985 0.99" }, Image = { Color = "0 0 0 0.35", Material = "assets/content/ui/uibackgroundblur-ingamemenu.mat" } }, "ProfileMenu_UI", "VkMenu"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Button = { Color = "0 0 0 0", Command = "vkbot.command refresh vk" }, Text = { Text = "" } }, "VkMenu"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "VkMenu", Name = "MainBlock", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "PanelButtonsImage"), Color = "1 1 1 1" }, new CuiRectTransformComponent { AnchorMin = "0.5 0.5", AnchorMax = "0.5 0.5", OffsetMin = "-160 -100", OffsetMax = "160 100" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "MainBlock", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileVk"), Color = "0.7 0.7 0.7 0.7" }, new CuiRectTransformComponent { AnchorMin = "0.5 1", AnchorMax = "0.5 1", OffsetMin = "-30 -60", OffsetMax = "30 -10" } } }); if (LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO == "default") { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0.03 0.5", AnchorMax = "0.97 0.5", OffsetMin = "0 -5", OffsetMax = "0 45" }, Text = { Text = lang.GetMessage("УкажитеСтраницу", this, player.UserIDString), FontSize = 18, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter, Color = "0.75 0.75 0.75 1.00" } }, "MainBlock"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "MainBlock", Name = "Input", Components = { new CuiImageComponent { Color = "0 0 0 0.15", Material = "assets/content/ui/uibackgroundblur-ingamemenu.mat" }, new CuiRectTransformComponent{ AnchorMin = "0.17 0.27", AnchorMax = "0.83 0.41" }, new CuiOutlineComponent { Color = "0.9 0.9 0.9 0.7", Distance = "1.2 -1.2", UseGraphicAlpha = true } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "Input", Components = { new CuiInputFieldComponent { Text = "vk.com/id12345", FontSize = 14, Command = "vkbot.command vk add", Align = TextAnchor.MiddleCenter, Color = "0.8 0.8 0.8 1", CharsLimit = 34, NeedsKeyboard = true}, new CuiRectTransformComponent { AnchorMin = "0 0", AnchorMax = "1 1", OffsetMin = "0 0", OffsetMax = "1 1" }, new CuiOutlineComponent { Color = "0.4 0.4 0.4 0.8", Distance = "0.4 -0.4", UseGraphicAlpha = true } } }); } if (LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO == "sended") { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0.03 0.5", AnchorMax = "0.97 0.5", OffsetMin = "0 -30", OffsetMax = "0 50" }, Text = { Text = lang.GetMessage("КодОтправлен", this, player.UserIDString), FontSize = 18, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter, Color = "0.75 0.75 0.75 1.00" } }, "MainBlock"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.26 0.16", AnchorMax = "0.73 0.3", }, Button = { Command = "vkbot.command vk remove", Color = "0.81 0.55 0.55 0.7" }, Text = { Text = lang.GetMessage("ПрофильУдалить", this, player.UserIDString), FontSize = 11, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter } }, "MainBlock"); } if (LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO == "notsended") { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0.03 0.5", AnchorMax = "0.97 0.5", OffsetMin = "0 -30", OffsetMax = "0 50" }, Text = { Text = string.Format(lang.GetMessage("КодНеОтправлен", this, player.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl), FontSize = 15, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter, Color = "0.75 0.75 0.75 1.00" } }, "MainBlock"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.5 0.5", AnchorMax = "0.5 0.5", OffsetMin = "-115 -80", OffsetMax = "-15 -40" }, Button = { Command = "vkbot.command vk confirm", Color = "0.59 0.83 0.60 0.7" }, Text = { Text = lang.GetMessage("КодПолучить", this, player.UserIDString), FontSize = 11, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = "0.9 0.9 0.9 1" } }, "MainBlock"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.5 0.5", AnchorMax = "0.5 0.5", OffsetMin = "15 -80", OffsetMax = "115 -40" }, Button = { Command = "vkbot.command vk remove", Color = "0.81 0.55 0.55 0.7" }, Text = { Text = lang.GetMessage("ПрофильУдалить", this, player.UserIDString), FontSize = 11, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter } }, "MainBlock"); } CuiHelper.AddUi(player, OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM); } private void ZJMAHNUJWINBMVJAZHSGTMLMROHRTLEKEQAOXRPZK(BasePlayer player, string LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO) { if (string.IsNullOrEmpty(LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO)) return; CuiHelper.DestroyUi(player, "GiftMenu"); var OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM = new CuiElementContainer(); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiPanel { RectTransform = { AnchorMin = "0 0", AnchorMax = "0.9985 0.99" }, Image = { Color = "0 0 0 0.35", Material = "assets/content/ui/uibackgroundblur-ingamemenu.mat" } }, "ProfileMenu_UI", "GiftMenu"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Button = { Color = "0 0 0 0", Command = "vkbot.command refresh gift" }, Text = { Text = "" } }, "GiftMenu"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "GiftMenu", Name = "MainBlock", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "PanelButtonsImage"), Color = "1 1 1 1" }, new CuiRectTransformComponent { AnchorMin = "0.5 0.5", AnchorMax = "0.5 0.5", OffsetMin = "-160 -100", OffsetMax = "160 100" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "MainBlock", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileGift"), Color = "0.7 0.7 0.7 0.7" }, new CuiRectTransformComponent { AnchorMin = "0.5 1", AnchorMax = "0.5 1", OffsetMin = "-30 -60", OffsetMax = "30 -10" } } }); if (LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO == "default") { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0.03 0.5", AnchorMax = "0.97 0.5", OffsetMin = "0 -40", OffsetMax = "0 35" }, Text = { Text = string.Format(lang.GetMessage("НаградаПодписка", this, player.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl), FontSize = 18, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter, Color = "0.75 0.75 0.75 1.00" } }, "MainBlock"); } if (LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO == "complete") { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0.03 0.5", AnchorMax = "0.97 0.5", OffsetMin = "0 -30", OffsetMax = "0 45" }, Text = { Text = string.Format(lang.GetMessage("НаградаПолучить", this, player.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.VKGroupUrl), FontSize = 16, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter, Color = "0.75 0.75 0.75 1.00" } }, "MainBlock"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.26 0.10", AnchorMax = "0.73 0.24", }, Button = { Command = "vkbot.command gift take", Color = "0.59 0.83 0.60 0.7" }, Text = { Text = lang.GetMessage("КнопкаПолучить", this, player.UserIDString), FontSize = 11, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = "0.9 0.9 0.9 1" } }, "MainBlock"); } if (!ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.GrGifts.VKGroupGifts) { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiPanel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Image = { Color = "0 0 0 0.35", Material = "assets/content/ui/uibackgroundblur.mat" } }, "MainBlock", "NoAccess"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Text = { Text = lang.GetMessage("ФункцияОтключена", this, player.UserIDString), FontSize = 20, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = "0.929 0.882 0.847 1" } }, "NoAccess"); } CuiHelper.AddUi(player, OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM); } private void NGILNMZWTRDZKNYAJSGDPKDDXVUVCHRSWGYEEGBURWSN(BasePlayer player, string LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO) { if (string.IsNullOrEmpty(LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO)) return; CuiHelper.DestroyUi(player, "AlertMenu"); var OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM = new CuiElementContainer(); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiPanel { RectTransform = { AnchorMin = "0 0", AnchorMax = "0.9985 0.99" }, Image = { Color = "0 0 0 0.35", Material = "assets/content/ui/uibackgroundblur-ingamemenu.mat" } }, "ProfileMenu_UI", "AlertMenu"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Button = { Color = "0 0 0 0", Command = "vkbot.command refresh alert" }, Text = { Text = "" } }, "AlertMenu"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "AlertMenu", Name = "MainBlock", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "PanelButtonsImage"), Color = "1 1 1 1" }, new CuiRectTransformComponent { AnchorMin = "0.5 0.5", AnchorMax = "0.5 0.5", OffsetMin = "-160 -100", OffsetMax = "160 100" } } }); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiElement { Parent = "MainBlock", Components = { new CuiRawImageComponent { Png = (string) ImageLibrary.Call("GetImage", "ProfileAlert"), Color = "0.7 0.7 0.7 0.7" }, new CuiRectTransformComponent { AnchorMin = "0.5 1", AnchorMax = "0.5 1", OffsetMin = "-30 -60", OffsetMax = "30 -10" } } }); if (LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO == "default") { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0.03 0.5", AnchorMax = "0.97 0.5", OffsetMin = "0 -40", OffsetMax = "0 35" }, Text = { Text = string.Format(lang.GetMessage("Уведомление", this, player.UserIDString), ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.ServerName), FontSize = 18, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter, Color = "0.75 0.75 0.75 1.00" } }, "MainBlock"); } if (LLNYPGSZQKVOJYEXZVQMGNAZKWOTHQKJWZCCCKBO == "settings") { bool ECPPFETRCOIWNIAKXRTJQKNIODAKMFEDACNLIPQFNWBL = XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].RaidAlert; bool CYSOZMXVCUUOHABDIFWJFWLVOBHBOWUJCQMFIVMTGIXHSX = XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].WipeAlert; OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0.03 0", AnchorMax = "0.97 0.3" }, Text = { Text = lang.GetMessage("ОповещенияИнфо", this, player.UserIDString), FontSize = 13, Font = "robotocondensed-regular.ttf", Align = TextAnchor.UpperCenter, Color = "0.75 0.75 0.75 1.00" } }, "MainBlock"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiPanel { RectTransform = { AnchorMin = "0.5 0.5", AnchorMax = "0.5 0.5", OffsetMin = "-120 -25", OffsetMax = "-30 0" }, Image = { Color = "1 1 1 0" } }, "MainBlock", "RaidAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0 1", AnchorMax = "1 1", OffsetMin = "0 0", OffsetMax = "0 30" }, Text = { Text = lang.GetMessage("Рейд", this, player.UserIDString), FontSize = 18, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter, Color = "0.75 0.75 0.75 1.00" } }, "RaidAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0 0", AnchorMax = "0.5 1", }, Button = { Command = "", Color = ECPPFETRCOIWNIAKXRTJQKNIODAKMFEDACNLIPQFNWBL ? "0.59 0.83 0.60 0.7" : "1 1 1 0.1" }, Text = { Text = lang.GetMessage("Включено", this, player.UserIDString), FontSize = 11, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = ECPPFETRCOIWNIAKXRTJQKNIODAKMFEDACNLIPQFNWBL ? "0.9 0.9 0.9 1" : "0.9 0.9 0.9 0.5" } }, "RaidAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.5 0", AnchorMax = "1 1", }, Button = { Command = "", Color = !ECPPFETRCOIWNIAKXRTJQKNIODAKMFEDACNLIPQFNWBL ? "0.81 0.55 0.55 0.7" : "1 1 1 0.1" }, Text = { Text = lang.GetMessage("Выключено", this, player.UserIDString), FontSize = 11, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = !ECPPFETRCOIWNIAKXRTJQKNIODAKMFEDACNLIPQFNWBL ? "0.9 0.9 0.9 1" : "0.9 0.9 0.9 0.5" } }, "RaidAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1", }, Button = { Command = "vkbot.command alert raidturn", Color = "0 0 0 0" }, Text = { Text = "" } }, "RaidAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiPanel { RectTransform = { AnchorMin = "0.5 0.5", AnchorMax = "0.5 0.5", OffsetMin = "30 -25", OffsetMax = "120 0" }, Image = { Color = "1 1 1 0" } }, "MainBlock", "WipeAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0 1", AnchorMax = "1 1", OffsetMin = "0 0", OffsetMax = "0 30" }, Text = { Text = lang.GetMessage("Вайп", this, player.UserIDString), FontSize = 18, Font = "robotocondensed-regular.ttf", Align = TextAnchor.MiddleCenter, Color = "0.75 0.75 0.75 1.00" } }, "WipeAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0 0", AnchorMax = "0.5 1", }, Button = { Command = "", Color = CYSOZMXVCUUOHABDIFWJFWLVOBHBOWUJCQMFIVMTGIXHSX ? "0.59 0.83 0.60 0.7" : "1 1 1 0.1" }, Text = { Text = lang.GetMessage("Включено", this, player.UserIDString), FontSize = 11, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = CYSOZMXVCUUOHABDIFWJFWLVOBHBOWUJCQMFIVMTGIXHSX ? "0.9 0.9 0.9 1" : "0.9 0.9 0.9 0.5" } }, "WipeAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0.5 0", AnchorMax = "1 1", }, Button = { Command = "", Color = !CYSOZMXVCUUOHABDIFWJFWLVOBHBOWUJCQMFIVMTGIXHSX ? "0.81 0.55 0.55 0.7" : "1 1 1 0.1" }, Text = { Text = lang.GetMessage("Выключено", this, player.UserIDString), FontSize = 11, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = !CYSOZMXVCUUOHABDIFWJFWLVOBHBOWUJCQMFIVMTGIXHSX ? "0.9 0.9 0.9 1" : "0.9 0.9 0.9 0.5" } }, "WipeAlert"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiButton { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1", }, Button = { Command = "vkbot.command alert wipeturn", Color = "0 0 0 0" }, Text = { Text = "" } }, "WipeAlert"); } if(!permission.UserHasPermission(player.UserIDString, ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.PermRaidAlert) || !ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett.TurnRaidAlert) { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiPanel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Image = { Color = "0 0 0 0.35", Material = "assets/content/ui/uibackgroundblur.mat" } }, "RaidAlert", "NoAccess"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Text = { Text = ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett.TurnRaidAlert ? lang.GetMessage("НетПрав", this, player.UserIDString) : lang.GetMessage("Недоступно", this, player.UserIDString), FontSize = 12, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = "0.929 0.882 0.847 1" } }, "NoAccess"); } if(ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.WipeStg.WCMDIgnore) { OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiPanel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Image = { Color = "0 0 0 0.35", Material = "assets/content/ui/uibackgroundblur.mat" } }, "WipeAlert", "NoAccess"); OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM.Add(new CuiLabel { RectTransform = { AnchorMin = "0 0", AnchorMax = "1 1" }, Text = { Text = lang.GetMessage("ВсегдаВкл", this, player.UserIDString), FontSize = 12, Font = "robotocondensed-bold.ttf", Align = TextAnchor.MiddleCenter, Color = "0.929 0.882 0.847 1" } }, "NoAccess"); } CuiHelper.AddUi(player, OIBNCQEOOIOQBZWPUSNNROYEVJGNDAAZMAPKJPPM); } [ConsoleCommand("vkbot.command")] private void EGNQXIWTGWCDENRREUMZKCDOTWCRLLTSPVSPHFFYVZ(ConsoleSystem.Arg LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT) { BasePlayer player = LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Player(); if (player == null) return; if (LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args == null) return; switch (LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args[0]) { case "vk": { string POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE = LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args[1]; if (POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE == "add") { string AGCQTXHXAPQVZQAVWVIJHZZKMVRIUJCASBAGLNRKMOVL = string.Join(" ", LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args.Skip(1).ToArray()); if (AGCQTXHXAPQVZQAVWVIJHZZKMVRIUJCASBAGLNRKMOVL == "add vk.com/id12345" || !AGCQTXHXAPQVZQAVWVIJHZZKMVRIUJCASBAGLNRKMOVL.Contains("vk.com/")) { PrintToChat(player, lang.GetMessage("НеправильнаяСсылка", this, player.UserIDString)); return; } CuiHelper.DestroyUi(player, "VkMenu"); VGCASFGXNKKOPJTRQKYBYIZCXAVQHHPFHALMZDYLRQUDKIM(player, AGCQTXHXAPQVZQAVWVIJHZZKMVRIUJCASBAGLNRKMOVL); break; } if (POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE == "remove") { if ((XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID) && XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].HGSFCJZPVQAFJKEHHSFXRQEECRNCEIBSLZAAEAJJDKJAZNU) || (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID) && XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].XKLPLLCQBODLVWLMOHTKKECGIVUGHEEOWBFUXMHAWJYQ)) { return; } if (XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.ContainsKey(player.userID)) XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC.Remove(player.userID); WLEVQGSZGQJYGGGOSOVUYXDRZEDRWVFRGEYGLEPTWV.WriteObject(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX); CuiHelper.DestroyUi(player, "VkMenu"); VkMain(player); break; } if (POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE == "confirm") { CuiHelper.DestroyUi(player, "VkMenu"); CTLIBIBLWPJLBWFSAVFSVOVZFOFJISBFZGZQMRGWSSBM(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX, $"Для подтверждения вашего ВК профиля введите в игровой чат команду /vk confirm {XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[player.userID].ZDSKENDXASVVEVVLEWBIIUTHGWGLSDAERATEXBRSHQI}", player); break; } ULHWHKSFFLQXAIEOPBQEDGKVAYKSXNFWKOWMZHJXSYVG(player, POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE); break; } case "gift": { string POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE = LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args[1]; if (POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE == "take") { CuiHelper.DestroyUi(player, "GiftMenu"); KVBZTJCNCGOXBCYWAGFHVDKNJVCKZPNEKMTTSXJIIXQMBY(player); break; } ZJMAHNUJWINBMVJAZHSGTMLMROHRTLEKEQAOXRPZK(player, POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE); break; } case "alert": { string POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE = LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args[1]; if (POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE == "raidturn") { Alert(player, "raid"); CuiHelper.DestroyUi(player, "AlertMenu"); NGILNMZWTRDZKNYAJSGDPKDDXVUVCHRSWGYEEGBURWSN(player, "settings"); break; } if (POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE == "wipeturn") { Alert(player, "wipe"); CuiHelper.DestroyUi(player, "AlertMenu"); NGILNMZWTRDZKNYAJSGDPKDDXVUVCHRSWGYEEGBURWSN(player, "settings"); break; } NGILNMZWTRDZKNYAJSGDPKDDXVUVCHRSWGYEEGBURWSN(player, POBEQEBLGMWAYEWGGALMQOWVNSDDXYDCQZSMNRDE); break; } case "refresh": { switch(LSOJAGQDSVZVTWYVKUBPMLBNOELHTLWAKHAGNPLYOT.Args[1]) { case "vk": { CuiHelper.DestroyUi(player, "MainVk"); CuiHelper.DestroyUi(player, "VkMenu"); VkMain(player); break; } case "gift": { CuiHelper.DestroyUi(player, "MainVk"); CuiHelper.DestroyUi(player, "GiftMenu"); VkMain(player); break; } case "alert": { CuiHelper.DestroyUi(player, "MainVk"); CuiHelper.DestroyUi(player, "AlertMenu"); VkMain(player); break; } } break; } } } private void KVBZTJCNCGOXBCYWAGFHVDKNJVCKZPNEKMTTSXJIIXQMBY(BasePlayer player) { if (SVIJQOOBRSJAGLKYVXKZRPOSVEKOFVOFDOAMLWUUW.ContainsKey(player)) { TimeSpan FFSLUNPKBQHHLLBSGRXBYOHIUKZLJTPWGLLIDJSF = DateTime.Now - SVIJQOOBRSJAGLKYVXKZRPOSVEKOFVOFDOAMLWUUW[player]; if (FFSLUNPKBQHHLLBSGRXBYOHIUKZLJTPWGLLIDJSF.TotalSeconds < 15) { PrintToChat(player, lang.GetMessage("Спам", this, player.UserIDString)); return; } else { SVIJQOOBRSJAGLKYVXKZRPOSVEKOFVOFDOAMLWUUW[player] = DateTime.Now; IOJXZLYNCUZHLYKIEOFXVOEPERARQEWYGLVFAEYCU(player); } } else { SVIJQOOBRSJAGLKYVXKZRPOSVEKOFVOFDOAMLWUUW.Add(player, DateTime.Now); IOJXZLYNCUZHLYKIEOFXVOEPERARQEWYGLVFAEYCU(player); } } private void OnEntityDeath(BaseCombatEntity FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH, HitInfo TVTEDRNWIWJNUEIGCIBEEXLAUFPKBJJIKDGQZFSKHSKFTMZR) { if (!ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett.TurnRaidAlert) { return; } if (TVTEDRNWIWJNUEIGCIBEEXLAUFPKBJJIKDGQZFSKHSKFTMZR == null || FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH == null) return; BasePlayer player = TVTEDRNWIWJNUEIGCIBEEXLAUFPKBJJIKDGQZFSKHSKFTMZR.InitiatorPlayer; if (player == null) return; if (FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH is BuildingBlock) { int SWIWUENRUGAFDBQYJRKODBHBLBZASPWYSNFSZMZFLUPMP = (int)(FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH as BuildingBlock).grade; if (SWIWUENRUGAFDBQYJRKODBHBLBZASPWYSNFSZMZFLUPMP <= 0) return; ServerMgr.Instance.StartCoroutine(MIIESPRUGLNQXGSOMSKMOIFEDWXZXMXMKEPBQKVOSSNHEH(FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH, player)); } else if (ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett.extralist && (FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH is DecayEntity || FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH is IOEntity) || FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH is AnimatedBuildingBlock || FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH is SamSite || FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH is AutoTurret || ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett.CXGVJJRWSDNJIHEERGUQDHNIKXFHNTFMDAPMRRPTYGMLJVGY.Contains(FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH.ShortPrefabName)) { ServerMgr.Instance.StartCoroutine(MIIESPRUGLNQXGSOMSKMOIFEDWXZXMXMKEPBQKVOSSNHEH(FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH, player)); } } private IEnumerator MIIESPRUGLNQXGSOMSKMOIFEDWXZXMXMKEPBQKVOSSNHEH(BaseCombatEntity FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH, BasePlayer player) { Vector3 position = FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH.transform.position; BuildingPrivlidge DKUJTSIQLROGLTENYEKBMPVYZXREDILUMUXPGJWDQCCNDS = FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH is BuildingPrivlidge ? FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH as BuildingPrivlidge : FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH.GetBuildingPrivilege(FUEUYMFDATQNDVYKONTSZSZAMSKWCVPTCDATVELJJQH.WorldSpaceBounds()); if (DKUJTSIQLROGLTENYEKBMPVYZXREDILUMUXPGJWDQCCNDS == null) yield break; if (!DKUJTSIQLROGLTENYEKBMPVYZXREDILUMUXPGJWDQCCNDS.AnyAuthed()) yield break; var list = DKUJTSIQLROGLTENYEKBMPVYZXREDILUMUXPGJWDQCCNDS.authorizedPlayers.ToList(); yield return CoroutineEx.waitForSeconds(0.5f); string name = player.displayName; string FAYWKCNDNOWKVADNCFUUQVPGPIGLKNHUGWLEFMBS = player.UserIDString; string QKAKYADMOZHJYKKLRGBVCTZGBEZOZIQEBVALPWQIDYVOAKHMB = HCHFBGXDTHEQZPMJJZUBFIZJBVYEGAIKQKCGDEDATBYE(position); foreach (var z in list) { BQJDUQLBEDEBVSSWTNAFTQQYBWVTWVYZWLVINJDWYCLY(QKAKYADMOZHJYKKLRGBVCTZGBEZOZIQEBVALPWQIDYVOAKHMB, FAYWKCNDNOWKVADNCFUUQVPGPIGLKNHUGWLEFMBS, name, z.userid); yield return CoroutineEx.waitForEndOfFrame; } } private void BQJDUQLBEDEBVSSWTNAFTQQYBWVTWVYZWLVINJDWYCLY(string QKAKYADMOZHJYKKLRGBVCTZGBEZOZIQEBVALPWQIDYVOAKHMB, string FAYWKCNDNOWKVADNCFUUQVPGPIGLKNHUGWLEFMBS, string name, ulong ID) { if(!JAWAVTTDBSKALBXVSFIFEFJWKJKKEGQFRLSVZTABEVUT(ID)) return; string NFAWVWKTIUAONGJDHCJYWUQSSEXLGQWNMGUKDFZDAVOWHOK = JOCETEUVRUNRZLKDWPBWERFWUFEECXLBTGUDNUDCQEWTLDYED(ID); if (string.IsNullOrEmpty(NFAWVWKTIUAONGJDHCJYWUQSSEXLGQWNMGUKDFZDAVOWHOK)) return; string message = ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.RaidSett.RaidAlertMsg.Replace("{0}", name).Replace("{1}", FAYWKCNDNOWKVADNCFUUQVPGPIGLKNHUGWLEFMBS).Replace("{2}", QKAKYADMOZHJYKKLRGBVCTZGBEZOZIQEBVALPWQIDYVOAKHMB).Replace("{3}", ARNGZPCEEXFGLDGPNLDAVWDDXSKXMYCPCEPXEPFVMBQQZ.VKSett.ServerName).Replace("{4}", $"{ConVar.Server.ip}").Replace("{5}", $"{ConVar.Server.port}"); PYNOKCZSFCNFXZPEJCMUMYHVAPDRIPYOHLVGZMFKUNPQHRLT(NFAWVWKTIUAONGJDHCJYWUQSSEXLGQWNMGUKDFZDAVOWHOK, message); } private bool JAWAVTTDBSKALBXVSFIFEFJWKJKKEGQFRLSVZTABEVUT(ulong userid) { if(!XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[userid].RaidAlert) return false; if (string.IsNullOrEmpty(XDRVWITGGVRODZMSNSDMVRPZGAOVJCERKZHQWHBX.YNNIPYHYULTURVZHXUUXSCPCKLBWPSSNLCZHORASYTKYC[userid].CLVUWMJSWVXKXDXLICSFJPWRTGTBYZRRAOJPBVVFETGDJDTX)) return false; return true; } private string HCHFBGXDTHEQZPMJJZUBFIZJBVYEGAIKQKCGDEDATBYE(Vector3 SSJITFXJKZFFIEMCSEPXVEHVENKBBWHSNAMNXXEIZTYU) { char EWCFCDWTPHDRZZMRYNCGMYACDFXAFUKETIGKNQKJJAVVB = 'A'; var x = Mathf.Floor((SSJITFXJKZFFIEMCSEPXVEHVENKBBWHSNAMNXXEIZTYU.x + (ConVar.Server.worldsize / 2)) / 146.3f) % 26; var z = (Mathf.Floor(ConVar.Server.worldsize / 146.3f) - 1) - Mathf.Floor((SSJITFXJKZFFIEMCSEPXVEHVENKBBWHSNAMNXXEIZTYU.z + (ConVar.Server.worldsize / 2)) / 146.3f); EWCFCDWTPHDRZZMRYNCGMYACDFXAFUKETIGKNQKJJAVVB = (char)(((int)EWCFCDWTPHDRZZMRYNCGMYACDFXAFUKETIGKNQKJJAVVB) + x); return $"{EWCFCDWTPHDRZZMRYNCGMYACDFXAFUKETIGKNQKJJAVVB}{z}"; } private void EZDNSVWZRGYCXEFISWSZTAPNGGFVUIDKVVXVUQOFMKZED() { lang.RegisterMessages(new Dictionary<string, string> { {"Уведомление", "To activate alerts, you need to link your VKontakte page"}, {"ФункцияОтключена", "This function is disabled by the administrator"}, {"ПрофильДобавленИПодтвержден", "You have already added and confirmed your profile"}, {"ПрофильДобавлен", "You have already added your profile. If you have not received a confirmation code, enter the command <color=#81BEF7>/vk confirm</color>"}, {"ДоступныеКоманды", "<color=#F5DA81>AVAILABLE COMMANDS:</color>\n/vk - open the function menu\n/vk add - linking your VK profile\n/vk confirm - confirming your VK profile\n/vk gift - receiving a gift for a VK subscription\n/vk raid - raid notification\n/vk wipe - server wipe notification"}, {"НеправильнаяСсылка", "The link to the page should be of the form \"vk.com/nickname \""}, {"Подсказка", "Use:\n<color=#cfc580>/vk add</color> your_link\nLink to the page should look like \"vk.com/nickname \""}, {"ПрофильПодтвержден", "You have confirmed your profile!"}, {"ОповещениеОПодарках", "You can get a reward if you join our group <color=#81BEF7>{0}</color>"}, {"НеверныйКод", "Invalid confirmation code"}, {"ПрофильНеДобавлен", "First add and confirm your profile"}, {"УкажитеСтраницу", "Specify the link to the VK page in the field below and press <b>ENTER</b>"}, {"КодОтправлен", "A message with further instructions has been sent to your VK page"}, {"КодНеОтправлен", "The bot can't send you a message: (\nsend any word to the group messages <color=#81BEF7>{0}</color> and try again"}, {"ПрофильНеПодтвержден", "First confirm your VK profile"}, {"НаградаУжеПолучена", "You have already received your reward!"}, {"ВайпВыкл", "You <color=#ffd700>disabled</color> server wipe alert"}, {"ВайпВкл", "You <color=#ffd700>enabled</color> server wipe alert"}, {"РейдВыкл", "You <color=#ffd700>disabled</color> raid alert"}, {"РейдВкл", "You <color=#ffd700>enabled</color> raid alert"}, {"НаградаПолучена", "The reward was given out!"}, {"НаградаПодписка", "To receive a gift, connect your page, then subscribe to the group <b><color=#81BEF7>{0}</color></b>"}, {"НаградаПолучить", "To receive a gift, click the receive button. Make sure you subscribe to the group <b><color=#81BEF7>{0}</color></b>"}, {"ПолучилНаграду", "The player <color=#81BEF7>{0}</color> received an award for joining the server group!\n<size=12>More details: <color=#ffd700>/vk</color></size>"}, {"НеВступилВГруппу", "You are not a member of our group!"}, {"ОповещенияИнфо", "Alerts about a raid or a server wipe will be sent to your private messages from the server group"}, {"АвтоОповещенияОвайпе", "The server sends out notifications about the server wipe to everyone, no subscription is required"}, {"СообщениеОтправлено", "A message with further instructions has been sent to your VK page"}, {"ПодключениеСтраницы", "CONNECTING A VK PAGE"}, {"ПолучениеПодарка", "GETTING A SUBSCRIPTION GIFT"}, {"ПолученПодарок", "THE GIFT HAS BEEN RECEIVED"}, {"УправлениеОповещениями", "MANAGING ALERTS"}, {"ПрофильУдалить", "? DELETE PROFILE"}, {"КодПолучить", "? GET THE CODE"}, {"КнопкаПолучить", "RECEIVE"}, {"Включено", "ON"}, {"Выключено", "OFF"}, {"Рейд", "RAID"}, {"Вайп", "WIPE"}, {"НетПрав", "NO PERMS!"}, {"Недоступно", "UNAVAILABLE"}, {"ВсегдаВкл", "ALWAYS ON."}, {"Спам", "You send the request too often, try a little later"}, {"НаградаСписок", "<color=#BEF781></color> You received: {0}"} }, this); lang.RegisterMessages(new Dictionary<string, string> { {"Уведомление", "Для активации оповещений, нужно привязать вашу страницу ВКонтакте"}, {"ФункцияОтключена", "Данная функция отключена администратором"}, {"ПрофильДобавленИПодтвержден", "Вы уже добавили и подтвердили свой профиль"}, {"ПрофильДобавлен", "Вы уже добавили свой профиль. Если вам не пришел код подтверждения, введите команду <color=#81BEF7>/vk confirm</color>"}, {"ДоступныеКоманды", "<color=#F5DA81>ДОСТУПНЫЕ КОМАНДЫ:</color>\n/vk - открыть меню функций\n/vk add - привязка вашего профиля ВК\n/vk confirm - подтверждение вашего профиля ВК\n/vk gift - получение подарка за подписку ВК\n/vk raid - оповещение о рейде\n/vk wipe - оповещение о вайпе"}, {"НеправильнаяСсылка", "Ссылка на страницу должна быть вида \"vk.com/nickname\""}, {"Подсказка", "Используйте:\n<color=#cfc580>/vk add</color> ваша_ссылка\nСсылка на страницу должна быть вида \"vk.com/nickname\""}, {"ПрофильПодтвержден", "Вы подтвердили свой профиль!"}, {"ОповещениеОПодарках", "Вы можете получить награду, если вступили в нашу группу <color=#81BEF7>{0}</color>"}, {"НеверныйКод", "Неверный код подтверждения"}, {"ПрофильНеДобавлен", "Сначала добавьте и подтвердите свой профиль"}, {"УкажитеСтраницу", "Укажите ссылку на страницу ВК\nв поле ниже и нажмите <b>ENTER</b>"}, {"КодОтправлен", "На вашу страницу ВК отправлено сообщение с дальнейшими инструкциями"}, {"КодНеОтправлен", "Бот не может отправить вам сообщение :(\nОтправьте в сообщения группы <color=#81BEF7>{0}</color> любое слово и попробуйте снова"}, {"ПрофильНеПодтвержден", "Сначала подтвердите свой профиль ВК"}, {"НаградаУжеПолучена", "Вы уже получили свою награду!"}, {"ВайпВыкл", "Вы <color=#ffd700>отключили</color> оповещение о вайпе сервера"}, {"ВайпВкл", "Вы <color=#ffd700>включили</color> оповещение о вайпе сервера"}, {"РейдВыкл", "Вы <color=#ffd700>отключили</color> оповещение о рейде"}, {"РейдВкл", "Вы <color=#ffd700>включили</color> оповещение о рейде"}, {"НаградаПолучена", "Награда была выдана!"}, {"НаградаПодписка", "Для получения подарка подключите вашу страницу, затем подпишитесь на группу <b><color=#81BEF7>{0}</color></b>"}, {"НаградаПолучить", "Для получения подарка, нажмите кнопку получить. Убедитесь что подписались на группу <b><color=#81BEF7>{0}</color></b>"}, {"ПолучилНаграду", "Игрок <color=#81BEF7>{0}</color> получил награду за вступление в группу сервера!\n<size=12>Подробнее: <color=#ffd700>/vk</color></size>"}, {"НеВступилВГруппу", "Вы не являетесь участником нашей группы!"}, {"ОповещенияИнфо", "Оповещения о рейде или вайпе будут приходить в ваши личные сообщения от группы сервера"}, {"АвтоОповещенияОвайпе", "Сервер рассылает оповещения о вайпе всем, подписка не требуется"}, {"ПодключениеСтраницы", "ПОДКЛЮЧЕНИЕ СТРАНИЦЫ ВК"}, {"ПолучениеПодарка", "ПОЛУЧЕНИЕ ПОДАРКА ЗА ПОДПИСКУ"}, {"ПолученПодарок", "ПОДАРОК ПОЛУЧЕН"}, {"УправлениеОповещениями", "УПРАВЛЕНИЕ ОПОВЕЩЕНИЯМИ"}, {"ПрофильУдалить", "? УДАЛИТЬ ПРОФИЛЬ"}, {"КодПолучить", "? ПОЛУЧИТЬ КОД"}, {"КнопкаПолучить", "ПОЛУЧИТЬ"}, {"Включено", "ВКЛ"}, {"Выключено", "ВЫКЛ"}, {"Рейд", "РЕЙД"}, {"Вайп", "ВАЙП"}, {"НетПрав", "НЕТ ПРАВ!"}, {"Недоступно", "НЕДОСТУПНО"}, {"ВсегдаВкл", "ВСЕГДА ВКЛ."}, {"Спам", "Вы отправляете запрос слишком часто, попробуйте немного позже"}, {"НаградаСписок", "<color=#BEF781></color> Вы получили: {0}"} }, this, "ru"); } } }